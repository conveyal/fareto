# Fareto

(pronounced Fare-eh-to, rhymes with Pareto).

Display Pareto surfaces of travel time and fare from [r5](https://github.com/conveyal/r5). You need to be running the point-to-point server in R5Main (`R5Main --point`) and currently you need to use the `nyc-fares` branch of R5. An example output is below.

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="1000"
   height="400"
   version="1.1"
   style="height:400px;width:1000px;perspective-origin:500px 200px;transform-origin:500px 200px;"
   id="svg735"
   sodipodi:docname="fareto_salem_copley.svg"
   inkscape:version="1.0rc1 (09960d6, 2020-04-09)">
  <metadata
     id="metadata741">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <defs
     id="defs739" />
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     inkscape:document-rotation="0"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="2560"
     inkscape:window-height="1395"
     id="namedview737"
     showgrid="false"
     inkscape:zoom="2.405"
     inkscape:cx="500"
     inkscape:cy="200"
     inkscape:window-x="1680"
     inkscape:window-y="23"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg735" />
  <g
     id="g685">
    <text
       id="text659"
       style="text-anchor:end;white-space:nowrap;display:block"
       y="360"
       x="65">$0.00</text>
    <text
       id="text661"
       style="text-anchor:end;white-space:nowrap;display:block"
       y="292"
       x="65">$2.00</text>
    <text
       id="text663"
       style="text-anchor:end;white-space:nowrap;display:block"
       y="224"
       x="65">$4.00</text>
    <text
       id="text665"
       style="text-anchor:end;white-space:nowrap;display:block"
       y="156"
       x="65">$6.00</text>
    <text
       id="text667"
       style="text-anchor:end;white-space:nowrap;display:block"
       y="88"
       x="65">$8.00</text>
    <text
       id="text669"
       style="text-anchor:end;white-space:nowrap;display:block"
       y="20"
       x="65">$10.00</text>
    <text
       id="text671"
       style="white-space:nowrap;display:block"
       transform="rotate(-90,15,200)"
       y="200"
       x="0">Cost</text>
    <text
       id="text673"
       style="text-anchor:middle;white-space:nowrap;display:block"
       y="375"
       x="70">00:00</text>
    <text
       id="text675"
       style="text-anchor:middle;white-space:nowrap;display:block"
       y="375"
       x="287.5">00:30</text>
    <text
       id="text677"
       style="text-anchor:middle;white-space:nowrap;display:block"
       y="375"
       x="505">01:00</text>
    <text
       id="text679"
       style="text-anchor:middle;white-space:nowrap;display:block"
       y="375"
       x="722.5">01:30</text>
    <text
       id="text681"
       style="text-anchor:middle;white-space:nowrap;display:block"
       y="375"
       x="940">02:00</text>
    <text
       id="text683"
       style="white-space:nowrap;display:block"
       y="392"
       x="475">Travel time</text>
  </g>
  <g
     id="g709">
    <line
       id="line687"
       style="stroke:#000000"
       y2="360"
       y1="360"
       x2="940"
       x1="70" />
    <line
       id="line689"
       style="stroke:#d3d3d3"
       y2="292"
       y1="292"
       x2="940"
       x1="70" />
    <line
       id="line691"
       style="stroke:#d3d3d3"
       y2="224"
       y1="224"
       x2="940"
       x1="70" />
    <line
       id="line693"
       style="stroke:#d3d3d3"
       y2="156"
       y1="156"
       x2="940"
       x1="70" />
    <line
       id="line695"
       style="stroke:#d3d3d3"
       y2="88"
       y1="88"
       x2="940"
       x1="70" />
    <line
       id="line697"
       style="stroke:#000000"
       y2="20"
       y1="20"
       x2="940"
       x1="70" />
    <line
       id="line699"
       style="stroke:#000000"
       y2="20"
       y1="360"
       x2="70"
       x1="70" />
    <line
       id="line701"
       style="stroke:#d3d3d3"
       y2="20"
       y1="360"
       x2="287.5"
       x1="287.5" />
    <line
       id="line703"
       style="stroke:#d3d3d3"
       y2="20"
       y1="360"
       x2="505"
       x1="505" />
    <line
       id="line705"
       style="stroke:#d3d3d3"
       y2="20"
       y1="360"
       x2="722.5"
       x1="722.5" />
    <line
       id="line707"
       style="stroke:#000000"
       y2="20"
       y1="360"
       x2="940"
       x1="940" />
  </g>
  <circle
     style="fill:#ffaaaa;stroke:#ffaaaa;stroke-width:1.06667px;stop-color:#000000"
     id="path908"
     cx="494.36591"
     cy="28.731808"
     r="14.760915" />
  <text
     x="490.13751"
     y="33.5"
     style="font-size:10.66670000000000051px;text-anchor:end;white-space:nowrap;display:block;stroke:#808080;fill:#ff0000;"
     id="text711">Newburyport/Rockport Line, Green Line</text>
  <text
     x="621.36249"
     y="52.200001"
     style="font-size:10.6667px;text-anchor:end;white-space:nowrap;display:block;stroke:#808080"
     id="text713">Newburyport/Rockport Line, 4, 55</text>
  <text
     x="751.13751"
     y="229"
     style="font-size:10.6667px;text-anchor:end;white-space:nowrap;display:block;stroke:#808080"
     id="text715">450, Green Line</text>
  <text
     x="933.83752"
     y="288.5"
     style="font-size:10.6667px;text-anchor:end;white-space:nowrap;display:block;stroke:#808080"
     id="text717">455, Blue Line, Orange Line</text>
  <polyline
     points="494.9708333333333,28.5 626.1958333333333,28.5 626.1958333333333,47.19999999999999 755.9708333333333,47.19999999999999 755.9708333333333,224 938.6708333333333,224 938.6708333333333,283.5"
     stroke="black"
     fill="none"
     style="fill:none;stroke:#000000"
     id="polyline721" />
  <circle
     cx="494.97083"
     cy="28.5"
     r="3"
     fill="black"
     stroke="black"
     style="stroke:#000000"
     id="circle723" />
  <circle
     cx="626.19586"
     cy="47.200001"
     r="3"
     fill="black"
     stroke="black"
     style="stroke:#000000"
     id="circle725" />
  <circle
     cx="755.97083"
     cy="224"
     r="3"
     fill="red"
     stroke="red"
     style="fill:#000000;stroke:#000000;stroke-opacity:1"
     id="circle727" />
  <circle
     cx="938.67084"
     cy="283.5"
     r="3"
     fill="black"
     stroke="black"
     style="stroke:#000000"
     id="circle729" />
</svg>

For details of the algorithm, see [Conway and Stewart (2019)](https://files.indicatrix.org/Conway-Stewart-2019-Charlie-Fare-Constraints.pdf).

To run, type `yarn start`